<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Fitness Pro - Grid Layout</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        /* --- 1. WHITISH DIM BACKGROUND --- */
        @keyframes misty-drift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .bg-whitish-dim {
            background: linear-gradient(135deg, #f8fafc, #e2e8f0, #f1f5f9);
            background-size: 300% 300%;
            animation: misty-drift 15s ease infinite;
            color: #1e293b;
        }

        /* --- 2. FIXED MOVING STRIP (Vertical Flow) --- */
        @keyframes strip-flow {
            0% { background-position: 0% 0%; }
            100% { background-position: 0% 200%; }
        }
        .moving-strip {
            /* 4 Colors repeated to ensure smooth loop */
            background: linear-gradient(to bottom, #3b82f6, #ec4899, #8b5cf6, #3b82f6);
            background-size: 100% 200%; /* Height is double to allow scrolling */
            animation: strip-flow 3s linear infinite;
        }

        /* --- 3. GLASS --- */
        .glass {
            background: rgba(255, 255, 255, 0.65);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 1);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        input:focus { outline: none; }
        .tap-highlight-transparent { -webkit-tap-highlight-color: transparent; }
    </style>
</head>
<body class="bg-whitish-dim min-h-screen font-sans p-4 pb-24 select-none tap-highlight-transparent">

    <div class="flex justify-between items-end mb-6 mt-2">
        <div>
            <p class="text-xs font-black text-gray-400 tracking-widest mb-1">HELLO,</p>
            <input type="text" value="USER" class="bg-transparent text-4xl font-black uppercase w-full text-slate-800 border-b border-slate-300 pb-1 focus:border-blue-500 transition-colors">
        </div>
        <div class="moving-strip p-[3px] rounded-full shadow-lg">
            <div class="bg-white/90 backdrop-blur-md px-4 py-1.5 rounded-full">
                <span id="dateDisplay" class="text-xs font-black tracking-widest text-slate-800 uppercase"></span>
            </div>
        </div>
    </div>

    <div class="glass relative w-full rounded-2xl overflow-hidden mb-4">
        <div class="absolute left-0 top-0 bottom-0 w-2 moving-strip"></div>
        <div class="p-5 pl-6 flex items-center justify-between">
            <div>
                <p class="text-xs text-gray-500 font-bold tracking-widest uppercase">Streak</p>
                <div class="flex items-center gap-2 mt-1">
                    <span id="streakCount" class="text-5xl font-black italic text-slate-800">0</span>
                    <span class="text-3xl">ðŸ”¥</span>
                </div>
            </div>
            <div class="text-[10px] font-bold text-slate-400 text-right max-w-[80px] leading-tight">
                CONSISTENCY IS KEY
            </div>
        </div>
    </div>

    <div onclick="openModal()" class="glass relative w-full rounded-2xl overflow-hidden mb-4 active:scale-[0.98] transition-transform shadow-sm">
        <div class="absolute left-0 top-0 bottom-0 w-2 moving-strip"></div>
        <div class="p-5 pl-6 flex justify-between items-center">
            <div class="flex-1 pr-2">
                <h2 class="text-2xl font-black italic tracking-tighter uppercase text-slate-800 mb-2">Today's Workout</h2>
                <div id="todayPreview" class="text-xs font-bold text-blue-700 uppercase tracking-wide bg-blue-100 px-3 py-1.5 rounded-lg inline-block"></div>
            </div>
            
            <div class="relative w-20 h-20 shrink-0">
                <svg class="w-full h-full -rotate-90">
                    <circle cx="40" cy="40" r="34" stroke="currentColor" stroke-width="6" fill="transparent" class="text-slate-200" />
                    <circle id="circleRing" cx="40" cy="40" r="34" stroke="currentColor" stroke-width="6" fill="transparent" class="text-blue-600 transition-all duration-700" stroke-dasharray="213" stroke-dashoffset="213" stroke-linecap="round"/>
                </svg>
                <div class="absolute inset-0 flex items-center justify-center">
                    <span id="gymPercent" class="text-lg font-black text-slate-800">0%</span>
                </div>
            </div>
        </div>
    </div>

    <div class="grid grid-cols-2 gap-3 mb-4">
        
        <div class="glass relative rounded-2xl overflow-hidden flex flex-col justify-between">
            <div class="absolute left-0 top-0 bottom-0 w-2 moving-strip"></div>
            <div class="p-4 pl-5">
                <div class="flex justify-between items-start mb-2">
                    <span class="text-xs font-black tracking-widest uppercase text-slate-700">Cardio</span>
                </div>
                <div class="flex items-baseline gap-1 mb-2">
                    <input type="number" id="cardioInput" value="0" onchange="updateVal('cardio', this.value)" class="bg-transparent w-full text-3xl font-black text-slate-800 border-none p-0 leading-none">
                    <span class="text-[9px] text-gray-400 font-bold shrink-0">/ 30m</span>
                </div>
                <div class="w-full bg-slate-200 h-1.5 rounded-full mb-3 overflow-hidden">
                    <div id="cardioBar" class="moving-strip h-full rounded-full transition-all duration-500 w-0"></div>
                </div>
                <button onclick="addVal('cardio', 5)" class="w-full py-2 bg-white/60 border border-white/50 rounded-lg text-[10px] font-bold uppercase text-slate-600 hover:bg-white">+ 5 Min</button>
            </div>
        </div>

        <div class="glass relative rounded-2xl overflow-hidden flex flex-col justify-between">
            <div class="absolute left-0 top-0 bottom-0 w-2 moving-strip"></div>
            <div class="p-4 pl-5">
                <div class="flex justify-between items-start mb-2">
                    <span class="text-xs font-black tracking-widest uppercase text-slate-700">Steps</span>
                </div>
                <div class="flex items-baseline gap-1 mb-2">
                    <input type="number" id="stepsInput" value="0" onchange="updateVal('steps', this.value)" class="bg-transparent w-full text-2xl font-black text-slate-800 border-none p-0 leading-none">
                    <span class="text-[9px] text-gray-400 font-bold shrink-0">/ 10k</span>
                </div>
                <div class="w-full bg-slate-200 h-1.5 rounded-full mb-3 overflow-hidden">
                    <div id="stepsBar" class="moving-strip h-full rounded-full transition-all duration-500 w-0"></div>
                </div>
                <button onclick="addVal('steps', 1000)" class="w-full py-2 bg-white/60 border border-white/50 rounded-lg text-[10px] font-bold uppercase text-slate-600 hover:bg-white">+ 1000</button>
            </div>
        </div>

    </div>

    <div class="glass relative w-full rounded-2xl overflow-hidden">
        <div class="absolute left-0 top-0 bottom-0 w-2 moving-strip"></div>
        <div class="p-5 pl-7">
            <div class="flex justify-between items-center mb-4">
                <span class="text-xs font-black tracking-widest uppercase text-slate-700">Weight Trend</span>
                <div class="flex items-baseline">
                     <input type="number" value="75.0" class="bg-transparent text-right w-16 text-xl font-black text-slate-800 border-b border-slate-300 focus:border-blue-500">
                     <span class="text-[10px] font-bold text-gray-400 ml-1">KG</span>
                </div>
            </div>
            
            <div class="w-full h-16 flex items-end">
                 <svg viewBox="0 0 100 40" class="w-full h-full overflow-visible">
                    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
                        <feDropShadow dx="0" dy="2" stdDeviation="2" flood-color="rgba(59, 130, 246, 0.3)"/>
                    </filter>
                    <path d="M0,35 Q10,30 20,32 T40,25 T60,28 T80,15 T100,20" fill="none" stroke="#3b82f6" stroke-width="3" stroke-linecap="round" filter="url(#shadow)" />
                    <circle cx="0" cy="35" r="2" fill="white" stroke="#3b82f6" stroke-width="1"/>
                    <circle cx="20" cy="32" r="2" fill="white" stroke="#3b82f6" stroke-width="1"/>
                    <circle cx="40" cy="25" r="2" fill="white" stroke="#3b82f6" stroke-width="1"/>
                    <circle cx="60" cy="28" r="2" fill="white" stroke="#3b82f6" stroke-width="1"/>
                    <circle cx="80" cy="15" r="2" fill="white" stroke="#3b82f6" stroke-width="1"/>
                    <circle cx="100" cy="20" r="3" fill="#3b82f6" stroke="white" stroke-width="2" />
                 </svg>
            </div>
        </div>
    </div>

    <div id="workoutModal" class="fixed inset-0 z-50 bg-[#f1f5f9] hidden flex-col overflow-y-auto">
        <div class="p-6 flex justify-between items-center sticky top-0 bg-[#f1f5f9]/95 backdrop-blur-xl z-10 border-b border-slate-200">
            <div class="moving-strip p-[2px] rounded-full">
                <div class="bg-white px-6 py-2 rounded-full shadow-sm">
                    <span id="modalDay" class="text-sm font-black uppercase tracking-widest text-slate-800"></span>
                </div>
            </div>
            <button onclick="closeModal()" class="w-12 h-12 rounded-full bg-slate-200 text-slate-600 flex items-center justify-center text-2xl font-bold shadow-sm">âœ•</button>
        </div>
        <div class="p-6 pb-20">
            <div id="modalTabs" class="flex gap-3 mb-8"></div>
            <div id="modalExercises" class="flex flex-col gap-4"></div>
        </div>
    </div>

    <script>
        // CONFIG
        const today = new Date();
        const days = ['SUNDAY', 'MONDAY', 'TUESDAY', 'WEDNESDAY', 'THURSDAY', 'FRIDAY', 'SATURDAY'];
        const dayName = days[today.getDay()];
        
        // FULL NAMES - NO ABBREVIATIONS
        const workouts = {
            'MONDAY': { 
                tabs: ['Chest', 'Triceps'], 
                ex: [
                    ['Barbell Bench Press', 'Incline Dumbbell Press', 'Machine Chest Fly', 'Seated Chest Press', 'Cable Crossovers'], 
                    ['Skullcrushers (EZ Bar)', 'Rope Pushdowns', 'Overhead Dumbbell Extension', 'Close Grip Bench Press', 'Triceps Dip Machine']
                ] 
            },
            'TUESDAY': { 
                tabs: ['Back', 'Biceps'], 
                ex: [
                    ['Lat Pulldown Machine', 'Seated Cable Row', 'T-Bar Row', 'Barbell Deadlift', 'Single Arm Dumbbell Row'], 
                    ['Barbell Bicep Curl', 'Dumbbell Hammer Curl', 'Preacher Curl Machine', 'Standing Cable Curl', 'Concentration Curl']
                ] 
            },
            'WEDNESDAY': { 
                tabs: ['Legs', 'Shoulders'], 
                ex: [
                    ['Leg Press Machine', 'Hack Squat Machine', 'Leg Extensions', 'Lying Leg Curls', 'Standing Calf Raise'], 
                    ['Overhead Shoulder Press', 'Dumbbell Lateral Raise', 'Dumbbell Front Raise', 'Rear Delt Fly', 'Barbell Shrugs']
                ] 
            },
            'THURSDAY': { 
                tabs: ['Chest Variation', 'Triceps Variation'], 
                ex: [
                    ['Dumbbell Flat Bench Press', 'Hammer Strength Incline Press', 'Low-to-High Cable Fly', 'Smith Machine Press', 'Decline Chest Press'], 
                    ['V-Bar Pushdowns', 'French Press', 'Dumbbell Kickbacks', 'Reverse Grip Pushdown', 'Single Arm Cable Extension']
                ] 
            },
            'FRIDAY': { 
                tabs: ['Back Variation', 'Biceps Variation'], 
                ex: [
                    ['Reverse Grip Pulldown', 'Bent Over Barbell Row', 'Meadows Row', 'Rack Pulls', 'Straight Arm Pulldown'], 
                    ['Incline Dumbbell Curl', 'Spider Curls', 'Zottman Curls', 'EZ Bar Curls', 'Bayesian Cable Curls']
                ] 
            },
            'SATURDAY': { 
                tabs: ['Legs Variation', 'Shoulders Variation'], 
                ex: [
                    ['Goblet Squat', 'Romanian Deadlift', 'Bulgarian Split Squat', 'Hip Thrust Machine', 'Seated Calf Raise'], 
                    ['Arnold Dumbbell Press', 'Cable Lateral Raise', 'Face Pulls', 'Upright Rows', 'Machine Shoulder Press']
                ] 
            },
            'SUNDAY': { tabs: ['Rest Day', 'Recovery'], ex: [[], []] }
        };

        let currentTab = 0;
        let checks = Array(10).fill(false);
        let streak = 0; 
        let streakLocked = false;

        function init() {
            document.getElementById('dateDisplay').innerText = today.toLocaleDateString('en-US', { day: 'numeric', month: 'short' }).toUpperCase();
            const w = workouts[dayName];
            document.getElementById('todayPreview').innerText = `${w.tabs[0]} & ${w.tabs[1]}`;
            document.getElementById('modalDay').innerText = dayName;
            renderTabs();
            renderExercises();
        }

        function openModal() { document.getElementById('workoutModal').classList.remove('hidden'); document.getElementById('workoutModal').classList.add('flex'); }
        function closeModal() { document.getElementById('workoutModal').classList.add('hidden'); document.getElementById('workoutModal').classList.remove('flex'); }

        function renderTabs() {
            const w = workouts[dayName];
            document.getElementById('modalTabs').innerHTML = w.tabs.map((t, i) => `
                <button onclick="switchTab(${i})" class="flex-1 py-4 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${currentTab === i ? 'bg-blue-600 text-white shadow-lg shadow-blue-500/30' : 'bg-white border border-slate-200 text-gray-400'}">${t}</button>
            `).join('');
        }

        function switchTab(i) { currentTab = i; renderTabs(); renderExercises(); }

        function renderExercises() {
            const w = workouts[dayName];
            if(dayName === 'SUNDAY') { document.getElementById('modalExercises').innerHTML = '<div class="text-center mt-10 opacity-50 font-bold text-slate-800 text-xl">REST DAY</div>'; return; }
            
            const list = w.ex[currentTab];
            const offset = currentTab * 5;
            document.getElementById('modalExercises').innerHTML = list.map((name, i) => {
                const id = offset + i;
                return `
                    <label class="glass p-5 rounded-xl flex items-center gap-5 cursor-pointer active:scale-[0.99] transition-transform shadow-sm">
                        <input type="checkbox" ${checks[id] ? 'checked' : ''} onchange="toggleCheck(${id}, this)" class="shrink-0 w-8 h-8 rounded-lg border-2 border-slate-300 bg-white checked:bg-green-500 checked:border-green-500 transition-colors appearance-none relative">
                        <span class="text-base font-bold text-slate-800 leading-tight">${name}</span>
                    </label>
                `;
            }).join('');
        }

        function toggleCheck(id, el) {
            checks[id] = el.checked;
            if(el.checked) confetti({ particleCount: 50, spread: 60, origin: { y: 0.6 }, colors: ['#3b82f6', '#ec4899', '#10b981'] });
            
            const done = checks.filter(Boolean).length;
            const pct = Math.round((done / 10) * 100);
            
            // Update Circle Ring (213 is the stroke-dasharray for radius 34)
            document.getElementById('circleRing').style.strokeDashoffset = 213 - (213 * pct / 100);
            document.getElementById('gymPercent').innerText = pct + "%";

            if(done === 10 && !streakLocked) { streak++; streakLocked = true; }
            else if (done < 10 && streakLocked) { streak--; streakLocked = false; }
            document.getElementById('streakCount').innerText = streak;
        }

        function updateVal(type, val) {
            let v = parseInt(val);
            const max = type === 'cardio' ? 30 : 10000;
            if(v > max) v = max;
            document.getElementById(`${type}Input`).value = v;
            document.getElementById(`${type}Bar`).style.width = (v / max * 100) + '%';
        }

        function addVal(type, amt) {
            let curr = parseInt(document.getElementById(`${type}Input`).value);
            updateVal(type, curr + amt);
        }

        init();
    </script>
</body>
</html>